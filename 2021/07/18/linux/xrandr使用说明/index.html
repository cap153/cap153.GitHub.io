<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    
      <link rel="icon" href="/img/favicon.ico">
    
    <meta name="keyword"  content="">
    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>

  <div class="page">
    <div class="head">
      <header class="head-header">
  <h1 class="head-authorH">
    <a href="/" class="head-authorLink">
      Hexo</a>
  </h1>
  <div class="head-right">
    <!-- <div class="head-search">
      <input class="head-searchK"></input>
      <span class="head-searchT">
        </span>
    </div> -->
    <button class="barWrap" id="barWrap-toggle">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>
    <div class="head-about" id="head-about">
      
      <a class="head-aboutLink" href="/about">
        About</a>
      
    </div>
  </div>
</header>
    </div>
    <div class="main">
        <div class="barShow-head" id="barShow">
  <ul class="barShow-ul">
    
      <li class="barShow-item">
        <a href="/archives"><span>
            Archives</span></a>
      </li>
    
      <li class="barShow-item">
        <a href="/categories/life"><span>
            Lifes</span></a>
      </li>
    
      <li class="barShow-item">
        <a href="/tags"><span>
            Tags</span></a>
      </li>
    
    
      <li class="barShow-item">
        <a class="head-aboutLink" href="/about">
          About
        </a>
      </li>
    
  </ul>
</div>
      <article class="post" id="post">
  <header class="post-head">
    <h1 class="post-title">
      <a class="title" href="/2021/07/18/linux/xrandr%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/">
        xrandr使用说明
      </a>
    </h1>
  </header>
  <div class="post-datetag">
    <div class="post-date">
      <time class="post-time" title="2021-07-18 18:24:50" datetime="2021-07-18T10:24:50.967Z" itemprop="datePublished">
  2021-07-18</time>
    </div>
    <div class="post-tag">
      
    </div>
  </div>
  <div class="article-entry" itemprop="articleBody">
    
    <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p><code>xrandr</code>是一款官方的扩展配置工具。它可以设置屏幕显示的大小、方向、镜像等，包括对多屏的设置。详细的使用方法可以通过<code>man xrandr</code>查看。</p>
<span id="more"></span>

<h2 id="单屏设置"><a href="#单屏设置" class="headerlink" title="单屏设置"></a>单屏设置</h2><h3 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h3><p>使用<code>xrandr -q</code>或者<code>xrandr</code>命令可以查询当前的显示状态，使用<code>xrandr --verbose</code>将会显示更详细的信息。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">pc:~$ xrandr</span><br><span class="line">Screen 0: minimum 8 x 8, current 1920 x 1080, maximum 32767 x 32767</span><br><span class="line">eDP1 connected primary 1920x1080+0+0 (normal left inverted right x axis y axis) 345mm x 194mm</span><br><span class="line">   1920x1080     60.02*+  59.93  </span><br><span class="line">   1680x1050     59.95    59.88  </span><br><span class="line">   1600x1024     60.17  </span><br><span class="line">   1400x1050     59.98  </span><br><span class="line">   1280x1024     60.02  </span><br><span class="line">   1440x900      59.89  </span><br><span class="line">   1280x960      60.00  </span><br><span class="line">   1360x768      59.80    59.96  </span><br><span class="line">   1152x864      60.00  </span><br><span class="line">   1024x768      60.00  </span><br><span class="line">   800x600       60.32    56.25  </span><br><span class="line">   640x480       59.94  </span><br><span class="line">HDMI1 disconnected (normal left inverted right x axis y axis)</span><br><span class="line">VGA1 disconnected (normal left inverted right x axis y axis)</span><br><span class="line">VIRTUAL1 disconnected (normal left inverted right x axis y axis)</span><br></pre></td></tr></table></figure>

<p>以上结果表明<code>eDP1</code>为主屏，且分辨率为<code>1920x1080</code>，起始位置为<code>0+0</code>。</p>
<h3 id="设置分辨率"><a href="#设置分辨率" class="headerlink" title="设置分辨率"></a>设置分辨率</h3><p>设置分辨率时需要指定设置的<code>output</code>及<code>mode</code>，如将<code>eDP1</code>的分辨率改为<code>1920x1080</code>，命令就是：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xrandr --output eDP1 --mode 1920x1080 </span><br></pre></td></tr></table></figure>

<p><code>--output</code>:指定显示器。<br><code>--mode</code>:指定一种有效的分辨率。<br><code>--rate</code>:指定刷新率。</p>
<h3 id="添加有效分辨率"><a href="#添加有效分辨率" class="headerlink" title="添加有效分辨率"></a>添加有效分辨率</h3><p>如果<code>xrandr</code>查询结果中没有合适的分辨率，则可以通过<code>newmode</code>来添加，下面将给出<code>eDP1</code>添加<code>1280x1024x60</code>的分辨率方法。 </p>
<ol>
<li>使用<code>cvt</code>生成一个<code>modeline</code>，命令如下：</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cvt 1280  1024  60</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 1280x1024 59.89 Hz (CVT 1.31M4) hsync: 63.67 kHz; pclk: 109.00 MHz</span></span><br><span class="line">Modeline &quot;1280x1024_60.00&quot;  109.00  1280 1368 1496 1712  1024 1027 1034 1063 -hsync +vsync</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>使用<code>newmode</code>创建一个<code>mode</code>，参数就是上面的<code>modeline</code>后的内容，命令如下：</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xrandr --newmode &quot;1280x1024_60.00&quot;  109.00  1280 1368 1496 1712  1024 1027 1034 1063 -hsync +vsync</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<ol start="3">
<li>新建模式，将新模式添加至当前输出设备：</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xrandr --addmode eDP1 1280x1024_60.00</span><br></pre></td></tr></table></figure>

<p>​       如果出错，则说明不支持此模式。</p>
<ol start="4">
<li>设置<code>newmode</code>为当前分辨率：</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xrandr --output eDP1 --mode 1280x1024_60.00</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>如果对于新分辨率不放心，可以追加<code>sleep 5</code>以及一条切换到已有分辨率命令，保证不会困在无效分辨率：</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xrandr --output eDP1 --mode 1280x1024_60.00 &amp;&amp; sleep 5 &amp;&amp; xrandr --newmode &quot;1920x1080-safe&quot; 173.00  1920 2048 2248 2576  1080 1083 1088 1120 -hsync +vsync &amp;&amp; xrandr --addmode eDP1 1920x1080_60.00 &amp;&amp; xrandr --output eDP1 --mode 1920x1080_60.00</span><br></pre></td></tr></table></figure>



<h2 id="双屏设置"><a href="#双屏设置" class="headerlink" title="双屏设置"></a>双屏设置</h2><p>如现在有两个<code>output</code>,分别为<code>eDP1</code>和<code>HDMI1</code></p>
<h3 id="设置主屏"><a href="#设置主屏" class="headerlink" title="设置主屏"></a>设置主屏</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xrandr --auto --output eDP1 --primary</span><br></pre></td></tr></table></figure>

<p><code>auto</code>：可以自动启用关闭的屏幕。<br><code>primary</code>：设置主屏。</p>
<h3 id="复制模式"><a href="#复制模式" class="headerlink" title="复制模式"></a>复制模式</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xrandr --auto --output eDP1 --pos 0x0 --mode 1920x1080 --output HDMI1 --same-as eDP1</span><br></pre></td></tr></table></figure>

<p><code>pos</code>：起始位置，x。<br><code>same-as</code>：与eDP1输出保持一致。</p>
<h3 id="扩展模式"><a href="#扩展模式" class="headerlink" title="扩展模式"></a>扩展模式</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xrandr --auto --output eDP1 --pos 0x0 --mode 1920x1080 --primary --output HDMI1 --mode 1024x768 --right-of eDP1</span><br></pre></td></tr></table></figure>


<p><code>right-of</code>：HDMI1的起始位置在eDP1的右边。</p>
<p>命令的结果就是<code>HDM1</code> 会在 <code>eDP1</code> 的右边, <code>eDP1</code> 为主屏, 另外位置的参数还有 <code>--left-of</code>, <code>--above</code>, <code>--below</code> 等。</p>
<p>如果需要自定义两个屏幕的位置, 可以通过计算每个屏幕的分辨率, 用 <code>--pos</code> 参数来指定每个屏幕显示的位置.</p>
<h3 id="单屏模式"><a href="#单屏模式" class="headerlink" title="单屏模式"></a>单屏模式</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xrandr --output eDP1 --pos 0x0 --mode 1920x1080 --primary --output VGA1 --off</span><br></pre></td></tr></table></figure>

<p><code>--off</code>:关闭某个屏幕.</p>
<h3 id="自定义模式"><a href="#自定义模式" class="headerlink" title="自定义模式"></a>自定义模式</h3><p>另外屏幕的旋转, 镜像和缩放可以分别使用 <code>--rotate</code>, <code>--reflect</code> 和 <code>--scale</code> 参数来实现.</p>
<h2 id="永久保存"><a href="#永久保存" class="headerlink" title="永久保存"></a>永久保存</h2><p>如果需要永久保存配置，可以通过更改<code>/etc/X11/xorg.conf</code>或者<code>/etc/X11/xorg.conf.d/****</code>进行保存。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xrandr --output &quot;DISP3 BG&quot; --rotate normal/inverted/left/right</span><br></pre></td></tr></table></figure>
<h2 id="引用："><a href="#引用：" class="headerlink" title="引用："></a>引用：</h2><ul>
<li><a target="_blank" rel="noopener" href="http://jouyouyun.github.io/Blog/xrandr-examples/">xrandr examples</a></li>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Xrandr_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Xrandr (简体中文)</a></li>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Multihead">Multihead</a>)<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>

    
  </div>
</article>

    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="post-toc-number">1.</span> <span class="post-toc-text">简介</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%8D%95%E5%B1%8F%E8%AE%BE%E7%BD%AE"><span class="post-toc-number">2.</span> <span class="post-toc-text">单屏设置</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%9F%A5%E8%AF%A2"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">查询</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%88%86%E8%BE%A8%E7%8E%87"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">设置分辨率</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%B7%BB%E5%8A%A0%E6%9C%89%E6%95%88%E5%88%86%E8%BE%A8%E7%8E%87"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">添加有效分辨率</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%8F%8C%E5%B1%8F%E8%AE%BE%E7%BD%AE"><span class="post-toc-number">3.</span> <span class="post-toc-text">双屏设置</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%AE%BE%E7%BD%AE%E4%B8%BB%E5%B1%8F"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">设置主屏</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%A4%8D%E5%88%B6%E6%A8%A1%E5%BC%8F"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">复制模式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%89%A9%E5%B1%95%E6%A8%A1%E5%BC%8F"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">扩展模式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%8D%95%E5%B1%8F%E6%A8%A1%E5%BC%8F"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">单屏模式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%BC%8F"><span class="post-toc-number">3.5.</span> <span class="post-toc-text">自定义模式</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%B0%B8%E4%B9%85%E4%BF%9D%E5%AD%98"><span class="post-toc-number">4.</span> <span class="post-toc-text">永久保存</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%BC%95%E7%94%A8%EF%BC%9A"><span class="post-toc-number">5.</span> <span class="post-toc-text">引用：</span></a></li></ol>
        </nav>
    </aside>
   
    </div>
    <footer class="footer-nav">
      
  <span class="footer-msg">
    
    
    
    <span class="timeDivide">-</span>
    
    John Doe.&nbsp;
    Power by
    <a href="https://hexo.io/" target="_blank" rel="external nofollow">Hexo</a>
    and
    <a class="orangelink" href="https://github.com/" target="_blank" rel="">
      orange</a>
  </span>

    </footer>
    <div class="back-top" id="back-top">
      <i class="back-top-icon"></i>
    </div>
    
  
  <script src="/js/jquery/jquery-3.1.1.min.js"></script>

    
<script src="/js/theme.js"></script>

    
<script src="/js/index.js"></script>

  
  </div>
</body>